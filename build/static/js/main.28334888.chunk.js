(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[1],{19:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"d",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return u}));var c=n(2),r=Object(c.b)("changeFilter"),a=Object(c.b)("setToken"),o=Object(c.b)("isOpenModal"),u=Object(c.b)("isLogin")},21:function(t,e,n){t.exports={bar:"UserBar_bar__2CLN-",link:"UserBar_link__2r11X",userName:"UserBar_userName__2cbF6",button:"UserBar_button__1pPMl composes_button__5hfNW"}},22:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"e",(function(){return o})),n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return i})),n.d(e,"b",(function(){return s}));var c=n(32),r=n(9),a=Object(c.a)({reducerPath:"authApi",baseQuery:Object(r.d)({baseUrl:"https://connections-api.herokuapp.com/",prepareHeaders:function(t,e){var n,c=null===(n=(0,e.getState)())||void 0===n?void 0:n.token;return c&&t.set("authorization","Bearer ".concat(c)),t}}),tagTypes:["auth","current"],keepUnusedDataFor:0,endpoints:function(t){return{signup:t.mutation({query:function(t){return{url:"users/signup",method:"POST",body:t}},invalidatesTags:["auth"]}),login:t.mutation({query:function(t){return{url:"users/login",method:"POST",body:t}},invalidatesTags:["auth"]}),logout:t.mutation({query:function(){return{url:"users/logout",method:"POST"}},invalidatesTags:["auth"]}),current:t.query({query:function(){return"users/current"},invalidatesTags:["current"]})}}}),o=a.useSignupMutation,u=a.useLoginMutation,i=a.useLogoutMutation,s=a.useCurrentQuery},28:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"d",(function(){return o})),n.d(e,"c",(function(){return u})),n.d(e,"b",(function(){return i})),n.d(e,"e",(function(){return s}));var c=n(32),r=n(9),a=Object(c.a)({reducerPath:"contactApi",baseQuery:Object(r.d)({baseUrl:"https://connections-api.herokuapp.com/",prepareHeaders:function(t,e){var n=(0,e.getState)().token;return n&&t.set("authorization","Bearer ".concat(n)),t}}),tagTypes:["contact"],keepUnusedDataFor:30,endpoints:function(t){return{getContact:t.query({query:function(){return"contacts"},providesTags:["contact"]}),deleteContact:t.mutation({query:function(t){return{url:"contacts/".concat(t),method:"DELETE"}},invalidatesTags:["contact"]}),addContact:t.mutation({query:function(t){return{url:"contacts",method:"POST",body:t}},invalidatesTags:["contact"]}),pacthContact:t.mutation({query:function(t){var e=t.event,n=t.id;return{url:"contacts/".concat(n),method:"PATCH",body:e}},invalidatesTags:["contact"]})}}}),o=a.useGetContactQuery,u=a.useDeleteContactMutation,i=a.useAddContactMutation,s=a.usePacthContactMutation},30:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return r}));var c=function(t){return t.filter},r=function(t){return t.isLoggetIn}},55:function(t,e,n){},64:function(t,e,n){"use strict";n.r(e);var c,r=n(0),a=n.n(r),o=n(29),u=n.n(o),i=(n(55),n(25)),s=n(39),d=n(5),b=n(30),j=n(6),l=n(3),O=["children"],h=["children","restricted"],f=function(t){var e=t.children,n=Object(s.a)(t,O),c=Object(j.e)((function(t){return t.isLoggetIn}));return Object(l.jsx)(d.b,Object(i.a)(Object(i.a)({},n),{},{children:c?e:Object(l.jsx)(d.a,{to:"/"})}))},p=function(t){var e=t.children,n=t.restricted,c=void 0!==n&&n,r=Object(s.a)(t,h),a=Object(j.e)(b.b),o=c&&a;return Object(l.jsx)(d.b,Object(i.a)(Object(i.a)({},r),{},{children:o?Object(l.jsx)(d.a,{to:"/contacts"}):e}))},g=n(75),m=n(27),x=n(40),y=n(20),v=n(21),k=n.n(v),T=n(22),_=n(19),C=function(){var t=Object(T.d)(),e=Object(x.a)(t,1)[0],n=Object(j.d)(),c=Object(j.e)(b.b),r=Object(T.b)().data;function a(){n(Object(_.d)("")),n(Object(_.b)(!1))}return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:k.a.bar,children:[Object(l.jsx)(y.b,{to:"/",className:k.a.link,children:"Home"}),c&&Object(l.jsx)(y.b,{to:"/contacts",className:k.a.link,children:"Contacts"}),c&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("p",{className:k.a.userName,children:null===r||void 0===r?void 0:r.name}),Object(l.jsx)("button",{type:"button",onClick:function(){e().then(a).catch((function(t){return m.c.error("something went wrong")}))},className:k.a.button,children:"Logout"})]}),!c&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(y.b,{to:"/signup",className:k.a.link,children:"Signup"}),Object(l.jsx)(y.b,{to:"/login",className:k.a.link,children:"Login"})]})]})})},P=Object(r.lazy)((function(){return n.e(8).then(n.bind(null,272))})),N=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(7),n.e(4)]).then(n.bind(null,275))})),L=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,273))})),q=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,274))})),w=function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(C,{}),Object(l.jsx)(d.d,{children:Object(l.jsxs)(r.Suspense,{fallback:Object(l.jsx)(g.a,{style:{marginTop:"60px"}}),children:[Object(l.jsx)(p,{exact:!0,path:"/",children:Object(l.jsx)(P,{})}),Object(l.jsx)(f,{path:"/contacts",children:Object(l.jsx)(N,{})}),Object(l.jsx)(p,{path:"/login",restricted:!0,children:Object(l.jsx)(L,{})}),Object(l.jsx)(p,{path:"/signup",restricted:!0,children:Object(l.jsx)(q,{})}),Object(l.jsx)(d.a,{to:"/"})]})}),Object(l.jsx)(m.a,{position:"top-right"})]})},M=n(46),S=n(12),F=n(2),U=n(28),z=Object(F.d)("",Object(S.a)({},_.a,(function(t,e){return e.payload}))),B=Object(F.d)("",Object(S.a)({},_.d,(function(t,e){return e.payload}))),A=Object(F.d)(!1,Object(S.a)({},_.c,(function(t,e){return!t}))),D=Object(F.d)(!1,Object(S.a)({},_.b,(function(t,e){return e.payload}))),I=n(8),E=n(18),H=n(47),Q={key:"authData",storage:n.n(H).a,whitelist:["token","isLoggetIn"]},J=Object(I.b)((c={isLoggetIn:D,isOpenModal:A,filter:z,token:B},Object(S.a)(c,U.a.reducerPath,U.a.reducer),Object(S.a)(c,T.a.reducerPath,T.a.reducer),c)),G=Object(E.g)(Q,J),W=Object(F.a)({reducer:G,devTools:!1,middleware:function(t){return t({serializableCheck:{ignoredActions:[E.a,E.f,E.b,E.c,E.d,E.e]}}).concat(U.a.middleware).concat(T.a.middleware)}}),X=Object(E.h)(W);u.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(j.a,{store:W,children:Object(l.jsx)(M.a,{persistor:X,children:Object(l.jsx)(y.a,{children:Object(l.jsx)(w,{})})})})}),document.getElementById("root"))}},[[64,2,3]]]);
//# sourceMappingURL=main.28334888.chunk.js.map