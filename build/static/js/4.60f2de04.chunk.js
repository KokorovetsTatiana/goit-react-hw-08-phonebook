(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[4],{140:function(t,e,n){t.exports={header:"AddContactForm_header__1wAQU composes_header__18o3v",form:"AddContactForm_form__ZuJQP",input:"AddContactForm_input__KJXyc composes_input__Ixcv3",label:"AddContactForm_label__3kOC5"}},264:function(t,e,n){t.exports={header:"ContactList_header__1e9hs composes_header__18o3v"}},265:function(t,e,n){t.exports={listItem:"ContactListItem_listItem__2-KeS",button:"ContactListItem_button__3tnug composes_button__5hfNW",buttonFetching:"ContactListItem_buttonFetching__3ya48 composes_button__5hfNW"}},266:function(t,e,n){t.exports={backdrop:"EditModal_backdrop__-ScW5",modal:"EditModal_modal__2Ad3q",cross:"EditModal_cross__mbi4N"}},268:function(t,e,n){t.exports={header:"FindForm_header__3eMas composes_header__18o3v",input:"FindForm_input__1Njfh composes_input__Ixcv3"}},269:function(t,e,n){t.exports={container:"Phonebook_container__YkG8D"}},275:function(t,e,n){"use strict";n.r(e);var a=n(25),c=n(40),r=n(140),o=n.n(r),i=(n(111),n(80)),s=n(81),d=n(82),u=function(t,e){return e.map((function(t){return t.name})).includes(t)},b=n(83),l=n(27),m=n(0),j=n(28),h=n(22),p=n(3),_=function(){var t=Object(j.d)().data,e=Object(h.b)().refetch,n=Object(j.b)(),r=Object(c.a)(n,2),_=r[0],f=r[1].isLoading;return Object(m.useEffect)((function(){e()}),[t,e]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{className:o.a.header,children:"Phonebook"}),Object(p.jsx)(i.a,{schema:d.a,onSubmit:function(e,n){u(e.name,t)?l.c.error("Contact already exists"):_(Object(a.a)({},e)).then(l.c.success("Added")).catch((function(t){return l.c.error("Error ".concat(t.status,", message ").concat(t.data))})),n.resetForm()},initValues:{name:"",number:""},inputTags:b.a,children:Object(p.jsx)(s.a,{label:"add",isLoading:f,width:"45px"})})]})},f=n(264),O=n.n(f),x=n(75),g=n(265),v=n.n(g),y=n(137),N=n(89),w=n.n(N),F=function(t){var e,n=t.contact,a=t.editButtonHandler,r=Object(j.c)(),o=Object(c.a)(r,2),i=o[0],s=o[1].isLoading;return Object(p.jsxs)("li",{className:v.a.listItem,children:[Object(p.jsx)("span",{children:n.name}),Object(p.jsx)("span",{children:n.number}),Object(p.jsxs)("button",{type:"button",className:v.a.button,onClick:a(n),children:["edit ",Object(p.jsx)(y.a,{size:"16"})]}),Object(p.jsx)("button",{className:s?v.a.buttonFetching:v.a.button,type:"button",onClick:(e=n.id,function(){return i(e).then(l.b.success("Deleted",{icon:Object(y.b)({color:"rgb(245, 210, 13)",size:"20"})})).catch((function(t){return l.b.error("Error ".concat(t.status,", message ").concat(t.data))}))}),disabled:s,children:s?Object(p.jsx)(w.a,{type:"TailSpin",color:"#fff",height:12,width:12}):Object(p.jsxs)(p.Fragment,{children:["delete ",Object(p.jsx)(y.b,{size:"16"})]})})]})},C=n(267),k=n(266),I=n.n(k),E=n(6),S=n(19),L=n(29),T=function(t){var e=t.data,n=Object(j.d)().data,a=Object(j.e)(),r=Object(c.a)(a,1)[0],o=Object(E.d)(),m=e.name,h=e.number,_=e.id;function f(){o(Object(S.c)()),l.b.success("Updated")}return Object(L.createPortal)(Object(p.jsx)("div",{className:I.a.backdrop,children:Object(p.jsxs)("div",{className:I.a.modal,children:[Object(p.jsx)("button",{type:"button",onClick:f,className:I.a.cross,children:Object(p.jsx)(C.a,{size:"16"})}),Object(p.jsx)(i.a,{schema:d.a,onSubmit:function(t,e){u(t.name,n)?l.b.error("This contact already exists"):r({event:t,id:_}).then(f).catch((function(t){return l.b.error("Contact has not been updated")}))},initValues:{name:m,number:h},inputTags:b.c,children:Object(p.jsx)(s.a,{label:"edit",width:"45px"})})]})}),document.getElementById("root-modal"))},P=n(30),A=function(){var t,e,n=Object(j.d)(),a=n.data,r=n.isFetching,o=n.error,i=Object(E.e)(P.a),s=(e=i,(t=a)?t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())})):[]),d=Object(E.e)((function(t){return t.isOpenModal})),u=Object(E.d)(),b=Object(m.useState)(""),h=Object(c.a)(b,2),_=h[0],f=h[1];Object(m.useEffect)((function(){o&&l.b.error("Error ".concat(o.status,", message ").concat(o.data))}),[o]);var g=function(t){return function(){u(Object(S.c)()),f(t)}};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h2",{className:O.a.header,children:"Your contacts"}),r&&Object(p.jsx)(x.a,{style:{marginTop:"20px"}}),Object(p.jsx)("ul",{className:O.a.list,children:s.map((function(t){return Object(p.jsx)(F,{contact:t,editButtonHandler:g},t.id)}))}),d&&Object(p.jsx)(T,{data:_})]})},B=n(268),J=n.n(B),M=function(){var t=Object(E.e)(P.a),e=Object(E.d)();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h2",{className:J.a.header,children:"Find by name"}),Object(p.jsx)("input",{className:J.a.input,type:"text",onChange:function(t){e(Object(S.a)(t.target.value))},value:t,placeholder:"Type name to find"})]})},W=n(269),z=n.n(W);e.default=function(){return Object(p.jsxs)("div",{className:z.a.container,children:[Object(p.jsx)(_,{}),Object(p.jsx)(M,{}),Object(p.jsx)(A,{})]})}},80:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var a=n(110),c=n(100),r=n(27),o=n(84),i=n.n(o),s=n(3),d=function(t){var e=t.schema,n=t.onSubmit,o=t.children,d=t.initValues,u=t.inputTags,b=Object(c.a)(500,(function(t){r.c.error(t)}));return Object(s.jsx)(a.c,{initialValues:d,validationSchema:e,onSubmit:n,children:function(t){var e=t.errors,n=t.touched;return Object(s.jsxs)(a.b,{className:i.a.form,children:[u.map((function(t){return Object(s.jsxs)("label",{className:i.a.label,htmlFor:t.id,children:[t.label,Object(s.jsx)(a.a,{type:t.type,className:i.a.input,id:t.id,name:t.id,placeholder:"Enter ".concat(t.label)}),n[t.id]&&e[t.id]&&b(e[t.id])]},t.id)})),o]})}})}},81:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n(89),c=n.n(a),r=n(85),o=n.n(r),i=n(3),s=function(t){var e=t.isLoading,n=t.label,a=t.width,r=void 0===a?"70px":a;return Object(i.jsx)("button",{className:o.a.button,type:"submit",disabled:e,style:{width:r},children:e?Object(i.jsx)(c.a,{type:"TailSpin",color:"#fff",height:12,width:12,timeout:3e3}):"".concat(n)})}},82:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o}));var a=n(97),c=(n(109),a.object().shape({name:a.string().min(2).max(20).required(),number:a.string().phone("",!1).required()})),r=a.object().shape({email:a.string().email(),password:a.string().min(7).max(20)}),o=a.object().shape({name:a.string().min(2).max(20),email:a.string().email(),password:a.string().min(7).max(20)})},83:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"c",(function(){return c})),n.d(e,"b",(function(){return r})),n.d(e,"d",(function(){return o}));var a=[{type:"text",label:"Name",id:"name"},{type:"tel",label:"Phone",id:"number"}],c=[{type:"text",label:"Name",id:"name"},{type:"tel",label:"Phone",id:"number"}],r=[{type:"email",label:"Email",id:"email"},{type:"password",label:"Password",id:"password"}],o=[{type:"text",label:"Name",id:"name"},{type:"email",label:"Email",id:"email"},{type:"password",label:"Password",id:"password"}]},84:function(t,e,n){t.exports={form:"FormItems_form__3RDBJ",label:"FormItems_label__3wOWQ",input:"FormItems_input__C-RDv composes_input__Ixcv3"}},85:function(t,e,n){t.exports={button:"SubmitButton_button__39jTg composes_button__5hfNW"}}}]);
//# sourceMappingURL=4.60f2de04.chunk.js.map